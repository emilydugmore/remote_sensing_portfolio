<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; 4_policy – rs_portfolio_proj</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./3_Corrections.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-485d01fc63b59abcd3ee1bf1e8e2748d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./4_policy.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">4_policy</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">rs_portfolio_proj</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_RS_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Remote Sensing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_Corrections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">3_Corrections</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_policy.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">4_policy</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#applying-rs-to-a-climate-policy-in-south-africa" id="toc-applying-rs-to-a-climate-policy-in-south-africa" class="nav-link active" data-scroll-target="#applying-rs-to-a-climate-policy-in-south-africa"><span class="header-section-number">3</span> Applying RS to a Climate Policy in South Africa</a>
  <ul class="collapse">
  <li><a href="#the-climate-change-act-and" id="toc-the-climate-change-act-and" class="nav-link" data-scroll-target="#the-climate-change-act-and"><span class="header-section-number">3.1</span> The Climate Change Act and</a></li>
  <li><a href="#introduction-and-policy-context" id="toc-introduction-and-policy-context" class="nav-link" data-scroll-target="#introduction-and-policy-context"><span class="header-section-number">3.2</span> <strong>1. Introduction and Policy Context</strong></a>
  <ul class="collapse">
  <li><a href="#the-policy-mandates" id="toc-the-policy-mandates" class="nav-link" data-scroll-target="#the-policy-mandates"><span class="header-section-number">3.2.1</span> <strong>The Policy Mandates</strong></a></li>
  </ul></li>
  <li><a href="#proposed-remote-sensing-methodology" id="toc-proposed-remote-sensing-methodology" class="nav-link" data-scroll-target="#proposed-remote-sensing-methodology"><span class="header-section-number">3.3</span> <strong>2. Proposed Remote Sensing Methodology</strong></a>
  <ul class="collapse">
  <li><a href="#a.-identifying-at-risk-communities-optical-change-detection" id="toc-a.-identifying-at-risk-communities-optical-change-detection" class="nav-link" data-scroll-target="#a.-identifying-at-risk-communities-optical-change-detection"><span class="header-section-number">3.3.1</span> <strong>A. Identifying At-Risk Communities (Optical Change Detection)</strong></a></li>
  <li><a href="#b.-flood-vulnerability-mapping-sar-dem" id="toc-b.-flood-vulnerability-mapping-sar-dem" class="nav-link" data-scroll-target="#b.-flood-vulnerability-mapping-sar-dem"><span class="header-section-number">3.3.2</span> <strong>B. Flood Vulnerability Mapping (SAR &amp; DEM)</strong></a></li>
  </ul></li>
  <li><a href="#discussion-from-data-to-policy-implementation" id="toc-discussion-from-data-to-policy-implementation" class="nav-link" data-scroll-target="#discussion-from-data-to-policy-implementation"><span class="header-section-number">3.4</span> <strong>3. Discussion: From Data to Policy Implementation</strong></a>
  <ul class="collapse">
  <li><a href="#addressing-the-mono-functional-and-sprawling-structure" id="toc-addressing-the-mono-functional-and-sprawling-structure" class="nav-link" data-scroll-target="#addressing-the-mono-functional-and-sprawling-structure"><span class="header-section-number">3.4.1</span> <strong>Addressing the “Mono-functional and Sprawling” Structure</strong></a></li>
  <li><a href="#fulfilling-the-just-transition" id="toc-fulfilling-the-just-transition" class="nav-link" data-scroll-target="#fulfilling-the-just-transition"><span class="header-section-number">3.4.2</span> <strong>Fulfilling the “Just Transition”</strong></a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">4_policy</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="applying-rs-to-a-climate-policy-in-south-africa" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Applying RS to a Climate Policy in South Africa</h1>
<p><strong>Following the practical and subsequent discussion</strong> write up your case study city</p>
<p>The case study will be marked in the same manner set out in mark scheme for the learning diary. Specifically:</p>
<ul>
<li><p>The summary criterion will refer to the summary of the policy and city you have selected.</p></li>
<li><p>The application criterion will refer to how the remotely sensed data you sourced could be used to assist with contributing to the policy goal. How could the data be applied to solve the policy challenge.</p></li>
<li><p>The reflection criterion will refer to what you have learnt in relation to the policy, city and the application of the data.</p></li>
</ul>
<p>Should you struggle to find current approaches within your city explore other cities discussed within the practical.</p>
<section id="the-climate-change-act-and" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="the-climate-change-act-and"><span class="header-section-number">3.1</span> The Climate Change Act and</h2>
<p>South Africa’s informal settlement landscape is extremely complex, and is largely a byproduct of historical spatial inclusion, rapid urbanization and severe shortage of affordable formal housing. Land on floodplains or alongside steep riverbanks is not suitable for formal development due to safety and insurance regulations. However, in many of the country’s metro cities (like Durban and Johannesburg), these areas which are ‘unsuitable’ for formal development often end up being occupied by poorer communities as a means of accessing the nearby urban economies. In addition, complete lack of municipal infrastructure in informal settlements can drive people closer to rivers for sanitation and domestic use (washing clothes and cleaning).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://groundup.org.za/article/floods-bring-hardship-and-loss-johannesburg-immigrant-community/"><img src="https://groundup.org.za/media/uploads/images/photographers/Ihsaan%20Haffejee/JHBFlood-20161110/FLOODING%20DAMAGE%20ALEX%20IH%204.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Jukskei River flood in Alexandra Township (one of the largest townships in SA).</figcaption>
</figure>
</div>
<p>The <strong>Climate Change Act (2024)</strong> is a national act specifically mandating that provinces and municipalities “must identify and spatially map, within the sphere of operations of the province, district or metropolitan municipality, as the case may be, risks, vulnerabilities, areas, ecosystems and communities that will arise, or that are vulnerable to the impacts of climate change”.</p>
<p>The phrasing of this mandate is pretty typical of South African governance, which is notoriously vague with how acts should be implemented and who is going to implement them, ultimately allowing different levels of government to pass the responsibility to someone else.</p>
<p>The <strong>White Paper for Human Settlements (2025)</strong> policy document also</p>
<p>states that “government will endeavour to integrate climate resilience and sustainable development approaches into the planning, design, construction, and operation of human settlements in an effort to avoid the devastating impacts of climate change”, specifically mentioning the integration of “innovative systems” and “new technologies”.</p>
<section id="the-marginal-land-logic" class="level4" data-number="3.1.0.1">
<h4 data-number="3.1.0.1" class="anchored" data-anchor-id="the-marginal-land-logic"><span class="header-section-number">3.1.0.1</span> <strong>1. The “Marginal Land” Logic</strong></h4>
<p>In the competitive urban land market, the only “free” or unoccupied land is often land that is deemed <strong>unsuitable for formal development</strong>. Since formal developers cannot build on floodplains or steep riverbanks due to insurance and safety regulations, these “buffer zones” remain vacant. For a person arriving in a city with no capital, this “unwanted” land is the only accessible space where they can erect a structure without immediate eviction.</p>
<p>South Africa’s informal settlement landscape is extremely complex, and is largely a byproduct of historical spatial inclusion, rapid urbanization and severe shortage of affordable formal housing. Land like that on floodplains or alongside steep riverbanks is not suitable for formal development due to safety and insurance regulations. However, in many of the country’s metro cities (like Durban and Johannesburg), these areas which are ‘unsuitable’ for formal development often end up being occupied by poorer communities as a means of accessing the nearby urban economies.</p>
</section>
</section>
<section id="introduction-and-policy-context" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="introduction-and-policy-context"><span class="header-section-number">3.2</span> <strong>1. Introduction and Policy Context</strong></h2>
<p>South Africa faces a dual crisis: a legacy of “sprawling, mono-functional” urban design and an accelerating climate emergency. As informal settlements expand—often into “environmentally precarious” land near riverbanks—the risk to human life from extreme weather events has transitioned from a theoretical threat to a frequent reality. This assignment discusses how Remote Sensing (RS) can serve as the primary implementation tool for two landmark policies: the <strong>Climate Change Act (No.&nbsp;22 of 2024)</strong> and the <strong>White Paper for Human Settlements (2025)</strong>.</p>
<section id="the-policy-mandates" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="the-policy-mandates"><span class="header-section-number">3.2.1</span> <strong>The Policy Mandates</strong></h3>
<ul>
<li><p><strong>The Climate Change Act (2024):</strong> Specifically mandates that provincial and metropolitan municipalities must <strong>“identify and spatially map… risks, vulnerabilities, areas, ecosystems and communities”</strong> vulnerable to climate impacts.</p></li>
<li><p><strong>The White Paper for Human Settlements (2025):</strong> Recognizes that settlements characterized by poverty and “underdevelopment” are the most vulnerable. It calls for the integration of <strong>“innovative systems”</strong> and <strong>“new technologies”</strong> to transition toward climate-resilient society.</p></li>
</ul>
<p>The “implementation gap” exists because while the law <em>mandates</em> mapping, traditional ground-based survey methods are too slow to keep pace with informal urban growth. RS provides the only viable path to fulfill these legal requirements in real-time.</p>
<hr>
</section>
</section>
<section id="proposed-remote-sensing-methodology" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="proposed-remote-sensing-methodology"><span class="header-section-number">3.3</span> <strong>2. Proposed Remote Sensing Methodology</strong></h2>
<p>To satisfy the requirements of Section 4.5 of the White Paper and the mapping mandate of the Climate Change Act, a multi-sensor RS approach is required.</p>
<section id="a.-identifying-at-risk-communities-optical-change-detection" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="a.-identifying-at-risk-communities-optical-change-detection"><span class="header-section-number">3.3.1</span> <strong>A. Identifying At-Risk Communities (Optical Change Detection)</strong></h3>
<p>To “spatially map” vulnerable communities as required by the Act, we must first identify them. Informal settlements in South Africa are often missed by traditional land-use maps.</p>
<ul>
<li><p><strong>Sensor:</strong> Sentinel-2 (MSI) or high-resolution PlanetScope.</p></li>
<li><p><strong>Index:</strong> <strong>Normalized Difference Built-up Index (NDBI)</strong>.</p>
<p>$$NDBI = \frac{SWIR - NIR}{SWIR + NIR}$$</p></li>
<li><p><strong>Application:</strong> By applying NDBI to a time-series of images, we can detect the “unmanaged expansion” mentioned in the White Paper. A “pixel-shifting” algorithm can flag when new structures appear in “unsuitable areas” (river buffers).</p></li>
</ul>
</section>
<section id="b.-flood-vulnerability-mapping-sar-dem" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="b.-flood-vulnerability-mapping-sar-dem"><span class="header-section-number">3.3.2</span> <strong>B. Flood Vulnerability Mapping (SAR &amp; DEM)</strong></h3>
<p>The White Paper highlights “severe storms and floods” as a critical risk. However, optical satellites cannot see through the cloud cover of a storm.</p>
<ul>
<li><p><strong>Sensor:</strong> <strong>Sentinel-1 (Synthetic Aperture Radar - SAR)</strong>.</p></li>
<li><p><strong>Method:</strong> SAR backscatter analysis. Water surfaces act as specular reflectors, appearing as “dark” pixels. By comparing a pre-flood “baseline” with an “active-flood” image, the exact footprint of vulnerability is revealed.</p></li>
<li><p><strong>Terrain Analysis:</strong> Using a <strong>Digital Elevation Model (DEM)</strong> like the <strong>Copernicus 30m</strong>, we can calculate the <strong>Topographic Wetness Index (TWI)</strong> to predict where water will naturally pool, regardless of whether a storm is currently occurring.</p></li>
</ul>
<hr>
</section>
</section>
<section id="discussion-from-data-to-policy-implementation" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="discussion-from-data-to-policy-implementation"><span class="header-section-number">3.4</span> <strong>3. Discussion: From Data to Policy Implementation</strong></h2>
<p>The integration of RS data transforms these policies from static documents into dynamic “Response Strategies.”</p>
<section id="addressing-the-mono-functional-and-sprawling-structure" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="addressing-the-mono-functional-and-sprawling-structure"><span class="header-section-number">3.4.1</span> <strong>Addressing the “Mono-functional and Sprawling” Structure</strong></h3>
<p>The White Paper critially notes that sprawling settlements are “unsustainable.” RS allows the government to perform <strong>Urban Density Analysis</strong>. By identifying areas of “relatively low density” through satellite-derived building footprints, planners can target “in-fill” development, reducing the need for citizens to settle in high-risk riverine areas.</p>
</section>
<section id="fulfilling-the-just-transition" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="fulfilling-the-just-transition"><span class="header-section-number">3.4.2</span> <strong>Fulfilling the “Just Transition”</strong></h3>
<p>The Act mentions a “just transition to a low carbon and climate resilient society.” For informal residents, “just” means <strong>proactive relocation</strong> before a disaster strikes.</p>
<ul>
<li><strong>The RS Intervention:</strong> Instead of reacting to a flood (Disaster Management), the RS system creates a <strong>“Relocation Trigger Map.”</strong> If a settlement is detected in a zone where the TWI indicates a 1-in-10-year flood risk, the White Paper’s “innovative systems” mandate triggers a social intervention and a planned move to safer ground.</li>
</ul>
<p>Climate Change Act</p>
<p>identifyandspatiallymap,withinthesphereofoperationsof theprovince, districtormetropolitanmunicipality,asthecasemaybe,risks,vulnerabilities, areas,ecosystemsandcommunitiesthatwillarise,orthatarevulnerabletothe impactsofclimatechange;</p>
<p>White Paper for Human Settlements</p>
<p>4.5 Climate change, climate resilience and innovative systems</p>
<p>Problem statement: The impact of human settlements on the natural environment including climate change and climate resilience increases with population growth, unmanaged or poorly managed expansion of both urban and rural settlements, economic development, and the associated increased consumption. Cities, towns, and rural settlements occupy large tracks of land. However, the relatively low density, mono-functional and sprawling settlement structure is unsustainable from an environmental perspective. Climate change has become one of the most critical developmental risks to South Africa with potential devastating economic, social, and ecological dimensions. Large parts of South Africa are already experiencing occurrences of unprecedented extreme weather events, ranging from severe storms, floods, fire, and drought. This is expected to accelerate over time. It affects both urban and rural settlements. Settlements characterised by massive poverty, service backlogs, underdevelopment and often located in areas that are not suitable for human habitation (such as informal and some rural settlements) are typically the most vulnerable. Increasingly, natural disasters, such as flooding, fires and drought are having a devastating effect on communities and there is an urgent need to address this and integrate climate-resilient and sustainable development approaches in human settlements.</p>
<p>Policy statements: Government will endeavour to integrate climate resilience and sustainable development approaches into the planning, design, construction, and operation of human settlements in an effort to avoid the devasting impacts of climate change. Integration will also ensure that valuable social, economic and environmental benefits from new technologies and approaches can be harnessed to support sustainable development. Government will commit to the development of a Human Settlements Climate Change Response Strategy and implementation plan to ensure that human Page 66 of 81 settlements policies, regulatory framework, and practice respond to the prevailing consequences arising from climate change. The strategy will contain both adaptation and mitigation measures and enable a process toward a just transition to a low carbon and climate resilient society currently underway in South Africa.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./3_Corrections.html" class="pagination-link" aria-label="3_Corrections">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">3_Corrections</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>